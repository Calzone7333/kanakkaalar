import{j as e}from"./ui-Ch41-bI7.js";import{r as n}from"./vendor-Con1GFA2.js";import{f as N}from"./index-DOyQY1V8.js";import{C as w}from"./chart-no-axes-column-MAL1v3V-.js";import{C as D}from"./circle-check-BOcamPC7.js";import{F as C}from"./file-text-0c8R3v66.js";import{T as y}from"./triangle-alert-D1sp6RMM.js";import{R as j,P as O,b as A,c as S,T as v,B as T,X as R,Y as F,d as L}from"./charts-lRoDuk9d.js";import"./utils-BMGruD9E.js";function X(){const[s,c]=n.useState(null),[m,i]=n.useState(!0),[r,u]=n.useState(null);if(n.useEffect(()=>{let t=!0;async function a(){i(!0);try{const d=await N.status("ADMIN");if(!t)return;c(d.data||null),u(null)}catch(d){if(console.error("Failed to load admin reports",d),!t)return;u(d)}finally{t&&i(!1)}}return a(),()=>{t=!1}},[]),m)return e.jsx("div",{className:"p-6 text-gray-500 bg-white rounded shadow",children:"Loading reports..."});if(r)return e.jsxs("div",{className:"p-6 text-red-700 border border-red-200 rounded bg-red-50",children:["Failed to load reports: ",String((r==null?void 0:r.message)||r)]});if(!s)return null;const l=s.totalDocuments??0,x=s.unverifiedDocuments??0,f=l-x,p=l>0?Math.round(f/l*100):0,h=[{name:"Verified",value:f},{name:"Unverified",value:x}],b=[{name:"Total Orders",value:s.totalOrders??0},{name:"Assigned Orders",value:s.assignedOrdersCount??0},{name:"Total Documents",value:l},{name:"Unverified Docs",value:x}],g=["#22c55e","#ef4444"];return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex flex-col justify-between gap-2 sm:flex-row sm:items-center",children:[e.jsx("h2",{className:"text-3xl font-semibold text-slate-800",children:"ðŸ“Š Admin Reports"}),e.jsxs("div",{className:"text-sm text-slate-500",children:["Updated: ",new Date().toLocaleString()]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(o,{icon:e.jsx(w,{className:"w-6 h-6 text-blue-500"}),label:"Total Orders",value:s.totalOrders??0,gradient:"from-blue-100 to-blue-50"}),e.jsx(o,{icon:e.jsx(D,{className:"w-6 h-6 text-green-500"}),label:"Assigned Orders",value:s.assignedOrdersCount??0,gradient:"from-green-100 to-green-50"}),e.jsx(o,{icon:e.jsx(C,{className:"w-6 h-6 text-indigo-500"}),label:"Total Documents",value:s.totalDocuments??0,gradient:"from-indigo-100 to-indigo-50"}),e.jsx(o,{icon:e.jsx(y,{className:"w-6 h-6 text-red-500"}),label:"Unverified Documents",value:s.unverifiedDocuments??0,gradient:"from-red-100 to-red-50"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 mt-6 lg:grid-cols-2",children:[e.jsxs("div",{className:"p-6 bg-white border shadow-sm rounded-2xl",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-700",children:"Documents Verification Overview"}),e.jsx(j,{width:"100%",height:250,children:e.jsxs(O,{children:[e.jsx(A,{data:h,cx:"50%",cy:"50%",labelLine:!1,label:({name:t,percent:a})=>`${t}: ${(a*100).toFixed(0)}%`,outerRadius:90,fill:"#8884d8",dataKey:"value",children:h.map((t,a)=>e.jsx(S,{fill:g[a%g.length]},`cell-${a}`))}),e.jsx(v,{})]})}),e.jsxs("div",{className:"mt-4 text-sm text-center text-slate-600",children:[p,"% Documents Verified"]})]}),e.jsxs("div",{className:"p-6 bg-white border shadow-sm rounded-2xl",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-slate-700",children:"Overall System Statistics"}),e.jsx(j,{width:"100%",height:250,children:e.jsxs(T,{data:b,children:[e.jsx(R,{dataKey:"name"}),e.jsx(F,{}),e.jsx(v,{}),e.jsx(L,{dataKey:"value",fill:"#6366f1",radius:[6,6,0,0]})]})})]})]})]})}function o({icon:s,label:c,value:m,gradient:i}){return e.jsxs("div",{className:`p-5 rounded-2xl bg-gradient-to-br ${i} border shadow-sm hover:shadow-md transition`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"p-3 bg-white shadow-sm rounded-xl",children:s}),e.jsx("div",{className:"text-3xl font-semibold text-slate-800",children:m})]}),e.jsx("div",{className:"mt-3 text-sm font-medium text-slate-600",children:c})]})}export{X as default};
