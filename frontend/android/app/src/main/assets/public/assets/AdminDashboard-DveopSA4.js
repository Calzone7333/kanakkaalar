import{j as e}from"./ui-Ch41-bI7.js";import{r as n,u as L,L as x,b as A,O as z}from"./vendor-Con1GFA2.js";import{c as N,g as E,u as B,X as U,M as j,d as F}from"./index-SiRpZdc4.js";import{A as M}from"./AppBackButton-BS7bEBpR.js";import{U as m}from"./user-BfTdGItp.js";import{L as y}from"./layout-dashboard-C2_w3QwU.js";import{U as w}from"./users-Bdz3eiSd.js";import{B as O}from"./building-BSvw-hri.js";import{Z as R}from"./zap-BUv7vm3-.js";import{G as P}from"./gift-Cv7nOE7b.js";import{C as D}from"./calendar-DkqJ-Bi6.js";import{T as _}from"./trending-up-WamTlgRe.js";import{S as T}from"./shopping-cart-Cjcug7-L.js";import{F as V}from"./file-text-Dslcny1G.js";import{S as W}from"./search-C-O3bJ5K.js";import{B as G}from"./bell-DwskYuV1.js";import{S as Z}from"./settings-9MsumXJ1.js";import"./utils-BMGruD9E.js";/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],H=N("chart-no-axes-column-increasing",q);/**
 * @license lucide-react v0.545.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=[["path",{d:"M18 21a8 8 0 0 0-16 0",key:"3ypg7q"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 20c0-3.37-2-6.5-4-8a5 5 0 0 0-.45-8.3",key:"10s06x"}]],J=N("users-round",X),K=({children:h,logout:u})=>{const[o,d]=n.useState(!1),[s,v]=n.useState(!0),[k,I]=n.useState("Admin"),[b,g]=n.useState(null),$=L();n.useEffect(()=>{var l;const a=E(),t=a==null?void 0:a.user;if(t){const c=t.fullName||t.name||((l=t.email)==null?void 0:l.split("@")[0])||"Admin";I(c),(async()=>{try{const i=(await B.profileImage()).data,r=URL.createObjectURL(i);g(r)}catch{g(null)}})()}},[]);const C=[{path:"/dashboard/admin",label:"Dashboard",Icon:y},{label:"CRM",Icon:w,children:[{path:"/dashboard/admin/crm",label:"Dashboard",Icon:y},{path:"/dashboard/admin/crm/customers",label:"Customers",Icon:w},{path:"/dashboard/admin/crm/companies",label:"Companies",Icon:O},{path:"/dashboard/admin/leads",label:"Leads",Icon:R},{path:"/dashboard/admin/deals",label:"Deals",Icon:P}]},{path:"/dashboard/admin/attendance",label:"Attendance",Icon:D},{path:"/dashboard/admin/employees",label:"Employees",Icon:J},{path:"/dashboard/admin/agents",label:"Agents",Icon:m},{path:"/dashboard/admin/performance",label:"Performance",Icon:_},{path:"/dashboard/admin/sales-reports",label:"Sales Reports",Icon:H},{path:"/dashboard/admin/orders",label:"Orders",Icon:T},{path:"/dashboard/admin/experts",label:"Experts",Icon:m},{path:"/dashboard/admin/reports",label:"Reports",Icon:V}],f=a=>$.pathname===a,S=({item:a,onClick:t})=>{const[l,c]=n.useState(!1),p=a.children&&a.children.length>0,i=p&&a.children.some(r=>f(r.path));return n.useEffect(()=>{i&&c(!0)},[i]),p?e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("button",{onClick:()=>{s&&c(!l)},className:`flex items-center py-2.5 rounded-md transition-all duration-200 text-[15px] w-full text-left
              ${i?"text-white font-semibold":"text-white hover:bg-[#046487]/80"}
              ${s?"px-5 gap-3":"px-0 gap-0 justify-center w-[52px] mx-auto"}
            `,children:[e.jsx(a.Icon,{size:20,className:"shrink-0"}),e.jsx("span",{className:`truncate flex-1 transition-opacity duration-200 ${s?"opacity-100":"opacity-0 h-0 hidden"}`,children:a.label}),s&&e.jsx("span",{className:"text-xs ml-auto",children:l?"▼":"▶"})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${l&&s?"max-h-96":"max-h-0"}`,children:a.children.map(r=>e.jsxs(x,{to:r.path,onClick:t,className:`flex items-center py-2 pl-12 pr-4 rounded-md transition-all duration-200 text-[14px]
                  ${f(r.path)?"text-white font-bold bg-[#046487]":"text-white/80 hover:text-white hover:bg-[#046487]/50"}
                `,children:[e.jsx(r.Icon,{size:16,className:"shrink-0 mr-2"}),e.jsx("span",{className:"truncate",children:r.label})]},r.path))})]}):e.jsxs(x,{to:a.path,onClick:t,className:`flex items-center py-2.5 rounded-md transition-all duration-200 text-[15px]
          ${f(a.path)?"bg-[#046487] text-white font-semibold":"text-white hover:bg-[#046487]/80"}
          ${s?"px-5 gap-3":"px-0 gap-0 justify-center w-[52px] mx-auto"}
        `,children:[e.jsx(a.Icon,{size:20,className:"shrink-0"}),e.jsx("span",{className:`truncate transition-opacity duration-200 ${s?"opacity-100":"opacity-0 h-0 hidden"}`,children:a.label})]})};return n.useEffect(()=>(document.body.style.overflow=o?"hidden":"unset",()=>{document.body.style.overflow="unset"}),[o]),e.jsxs("div",{className:"flex h-screen w-full bg-[#EFF2F7] overflow-hidden",children:[e.jsxs("div",{className:`fixed lg:static top-[65px] inset-y-0 left-0 z-40 bg-[#0189BB] transition-all duration-300 ease-in-out flex flex-col shadow-2xl lg:shadow-none mt-20
    ${s?"w-[250px]":"w-[130px]"}
    ${o?"translate-x-0":"-translate-x-full lg:translate-x-0"}
    rounded-tr-[45px]
  `,children:[e.jsxs("div",{className:"relative flex flex-col items-center -mt-8 pb-4",children:[e.jsx("div",{className:`rounded-full bg-[#0189BB] flex items-center justify-center border-4 border-white shadow-md transition-all duration-300 overflow-hidden
              ${s?"w-20 h-20":"w-12 h-12"}
            `,children:b?e.jsx("img",{src:b,alt:"Profile",className:"w-full h-full object-cover object-top"}):e.jsx(m,{color:"white",strokeWidth:1.5,className:`transition-all duration-300 ${s?"w-9 h-9":"w-6 h-6"}`})}),e.jsx("span",{className:`text-white font-semibold mt-2 transition-all duration-300 ${s?"text-lg":"text-sm"}`,children:k}),e.jsx("div",{className:"mt-4 w-[70%] h-px bg-white/40"})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto overflow-x-hidden",style:{msOverflowStyle:"none",scrollbarWidth:"none"},children:[e.jsx("style",{children:"nav::-webkit-scrollbar { display: none; }"}),e.jsx("div",{className:"flex flex-col gap-0.5 px-0 pt-4",children:C.map((a,t)=>e.jsx(S,{item:a,onClick:()=>d(!1)},t))})]}),e.jsxs("div",{className:`mt-auto mb-6 pt-3 border-t border-white/30 space-y-4 transition-all duration-300 ${s?"px-5":"px-2"}`,children:[e.jsxs(x,{to:"/dashboard/admin/profile",className:`flex items-center text-white hover:opacity-80 transition-opacity text-[15px] ${s?"gap-3":"gap-0 justify-center"}`,onClick:()=>d(!1),children:[e.jsx(m,{size:20,className:"shrink-0"}),e.jsx("span",{className:`truncate transition-opacity duration-200 ${s?"inline":"hidden"}`,children:"Profile"})]}),e.jsxs("button",{onClick:u,className:`flex items-center text-[#FF0000] hover:opacity-80 transition-opacity text-[15px] w-full ${s?"gap-3":"gap-0 justify-center"}`,children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"lucide lucide-log-out shrink-0",style:{color:"#FF0000"},children:[e.jsx("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"}),e.jsx("polyline",{points:"16 17 21 12 16 7"}),e.jsx("line",{x1:"21",x2:"9",y1:"12",y2:"12"})]}),e.jsx("span",{className:`truncate transition-opacity duration-200 ${s?"inline":"hidden"}`,children:"Logout"})]})]})]}),o&&e.jsx("div",{className:"fixed inset-0 z-30 bg-black/40 lg:hidden backdrop-blur-sm",onClick:()=>d(!1)}),e.jsxs("div",{className:"flex flex-col flex-1 w-full",children:[e.jsxs("header",{className:"fixed top-0 left-0 right-0 flex items-center justify-between w-full h-[65px] px-4 sm:px-6 ",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(M,{absolute:!1}),e.jsx("button",{className:"p-1 text-gray-700 hover:bg-gray-100 rounded-md lg:hidden",onClick:()=>d(!o),children:o?e.jsx(U,{size:24}):e.jsx(j,{size:24})}),e.jsx("button",{className:"p-1 text-gray-700 hover:bg-gray-100 rounded-md hidden lg:block",onClick:()=>v(!s),children:e.jsx(j,{size:24})})]}),e.jsxs("div",{className:"hidden sm:flex items-center bg-white border border-gray-200 rounded-full px-4 py-2 w-[280px] sm:w-[340px] md:w-[420px] lg:w-[460px] text-[15px] mx-auto absolute left-1/2 transform -translate-x-1/2",children:[e.jsx(W,{size:18,className:"text-gray-400 mr-2 shrink-0"}),e.jsx("input",{type:"text",placeholder:"Search",className:"w-full border-0 outline-none text-gray-500 placeholder-gray-400"})]}),e.jsxs("div",{className:"flex items-center gap-4 pr-2",children:[e.jsxs(x,{to:"/dashboard/admin/notifications",className:"relative cursor-pointer p-2 rounded-full hover:bg-gray-100",children:[e.jsx(G,{size:20,className:"text-gray-600"}),e.jsx("span",{className:"absolute top-[-4px] right-[-3px] h-2 w-2 rounded-full bg-red-500 border border-white"})]}),e.jsx(Z,{size:20,className:"text-gray-600 cursor-pointer"})]})]}),e.jsx("main",{className:"flex-1 w-full h-full p-4 sm:p-6 md:p-8 overflow-y-auto mt-[65px]",children:h})]})]})};function fe(){const h=A(),u=()=>{F(),window.dispatchEvent(new Event("auth:update")),h("/")};return e.jsx(K,{logout:u,children:e.jsx(z,{})})}export{fe as default};
