import{j as e}from"./ui-Ch41-bI7.js";import{b as C,r}from"./vendor-Con1GFA2.js";import{g as S,b as k}from"./index-SiRpZdc4.js";import"./utils-BMGruD9E.js";function T(){const N=C(),[l,m]=r.useState(1),[x,b]=r.useState(!1),[d,c]=r.useState(null),[t,j]=r.useState({businessName:"",businessType:"Sole Proprietorship",incorporationDate:"",registeredAddress:"",gstin:"",gstUsername:"",tanNumber:"",primaryBankName:"",currentBalance:"",panNumber:""}),[p,v]=r.useState(null),s=a=>{const{name:o,value:i}=a.target;j(n=>({...n,[o]:i}))},y=a=>{a.target.files[0]&&v(a.target.files[0])},h=()=>m(a=>a+1),f=()=>m(a=>a-1),w=async a=>{var o,i;a.preventDefault(),b(!0),c(null);try{const n=S();if(!n||!n.token)throw new Error("Not authenticated");const u=new FormData;Object.keys(t).forEach(g=>{u.append(g,t[g])}),p&&u.append("balanceSheet",p),await k.setup(u),c("Company setup successful!"),setTimeout(()=>{N("/dashboard/user")},1500)}catch(n){console.error(n),c(((i=(o=n.response)==null?void 0:o.data)==null?void 0:i.message)||"Failed to setup company")}finally{b(!1)}};return e.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center py-10 px-4",children:e.jsxs("div",{className:"w-full max-w-3xl bg-white rounded-lg shadow-lg p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-6 text-center",children:"Company Setup"}),e.jsxs("div",{className:"flex items-center justify-between mb-8 relative",children:[e.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-slate-200 -z-10"}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${l>=1?"bg-[#003366] text-white":"bg-slate-200 text-slate-500"}`,children:"1"}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${l>=2?"bg-[#003366] text-white":"bg-slate-200 text-slate-500"}`,children:"2"}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold ${l>=3?"bg-[#003366] text-white":"bg-slate-200 text-slate-500"}`,children:"3"})]}),e.jsxs("form",{onSubmit:w,children:[l===1&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Company Details"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Business Name"}),e.jsx("input",{name:"businessName",value:t.businessName,onChange:s,required:!0,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Business Type"}),e.jsxs("select",{name:"businessType",value:t.businessType,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none",children:[e.jsx("option",{value:"Sole Proprietorship",children:"Sole Proprietorship"}),e.jsx("option",{value:"Private Limited",children:"Private Limited"}),e.jsx("option",{value:"Partnership / LLP",children:"Partnership / LLP"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Date of Incorporation / Start Date"}),e.jsx("input",{type:"date",name:"incorporationDate",value:t.incorporationDate,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Registered Address"}),e.jsx("textarea",{name:"registeredAddress",value:t.registeredAddress,onChange:s,rows:"3",className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{type:"button",onClick:h,className:"bg-[#003366] text-white px-6 py-2 rounded hover:bg-[#002244] transition-colors",children:"Next"})})]}),l===2&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Compliance & Tax Setup"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"GSTIN Number (Optional if exempt)"}),e.jsx("input",{name:"gstin",value:t.gstin,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"GST Username (For API linkage)"}),e.jsx("input",{name:"gstUsername",value:t.gstUsername,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),t.businessType==="Private Limited"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"TAN Number"}),e.jsx("input",{name:"tanNumber",value:t.tanNumber,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:f,className:"text-slate-600 hover:text-slate-800 px-4 py-2",children:"Back"}),e.jsx("button",{type:"button",onClick:h,className:"bg-[#003366] text-white px-6 py-2 rounded hover:bg-[#002244] transition-colors",children:"Next"})]})]}),l===3&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-slate-700",children:"Financial Initialization"}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-slate-700",children:["Individual PAN Number ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"panNumber",value:t.panNumber,onChange:s,required:!0,placeholder:"ABCDE1234F",pattern:"[A-Z]{5}[0-9]{4}[A-Z]{1}",title:"PAN Number must be in the format ABCDE1234F",className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none uppercase"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Primary Bank Account Name"}),e.jsx("input",{name:"primaryBankName",value:t.primaryBankName,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Current/Opening Balance"}),e.jsx("input",{type:"number",name:"currentBalance",value:t.currentBalance,onChange:s,className:"mt-1 w-full border border-slate-300 rounded px-3 py-2 focus:ring-[#003366] focus:border-[#003366] outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-700",children:"Upload Previous Year Balance Sheet"}),e.jsx("input",{type:"file",onChange:y,className:"mt-1 w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-[#003366] hover:file:bg-blue-100"})]}),e.jsxs("div",{className:"flex justify-between pt-4",children:[e.jsx("button",{type:"button",onClick:f,className:"text-slate-600 hover:text-slate-800 px-4 py-2",children:"Back"}),e.jsx("button",{type:"submit",disabled:x,className:"bg-[#003366] text-white px-6 py-2 rounded hover:bg-[#002244] transition-colors disabled:bg-slate-400",children:x?"Saving...":"Finish Setup"})]})]})]}),d&&e.jsx("div",{className:`mt-6 p-4 rounded text-center ${d.includes("success")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:d})]})})}export{T as default};
