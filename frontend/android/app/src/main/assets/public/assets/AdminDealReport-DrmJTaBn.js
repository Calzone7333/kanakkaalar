import{j as e}from"./ui-Ch41-bI7.js";import{r as h}from"./vendor-Con1GFA2.js";import{S as o}from"./StatCard-Dumc55b0.js";import{C as c}from"./ChartCard-jjp_hlOM.js";import{D as S}from"./DataTable-D4UWD7Zb.js";import{D as N}from"./dollar-sign-vxx03qH8.js";import{T as B}from"./target-BXaT95Cx.js";import{Z as L}from"./zap-BUv7vm3-.js";import{T as A}from"./trending-up-WamTlgRe.js";import{R as m,e as F,C as p,X as b,Y as j,T as u,L as T,f,P,b as R,c as W,B as E,d as I}from"./charts-lRoDuk9d.js";import"./trending-down-DEibCJBa.js";import"./index-SiRpZdc4.js";import"./utils-BMGruD9E.js";import"./plus-BBYXCYuW.js";import"./search-C-O3bJ5K.js";import"./trash-2-i4V96l9G.js";const ae=()=>{const[r,y]=h.useState("all"),[i,v]=h.useState("all"),k=[{month:"Jan",deals:12,value:425e3,closed:5},{month:"Feb",deals:15,value:512e3,closed:7},{month:"Mar",deals:10,value:38e4,closed:4},{month:"Apr",deals:18,value:645e3,closed:9},{month:"May",deals:22,value:78e4,closed:11},{month:"Jun",deals:25,value:895e3,closed:13}],n=[{name:"Lead In",value:20,deals:8},{name:"Qualification",value:25,deals:10},{name:"Proposal Sent",value:30,deals:12},{name:"Negotiation",value:18,deals:7},{name:"Closed Won",value:5,deals:2},{name:"Closed Lost",value:2,deals:1}],s=[{id:1,name:"Stark Industries - Enterprise Deal",customer:"Tony Stark",amount:"₹1,25,000",stage:"Proposal Sent",probability:75,owner:"Alice Johnson",dueDate:"2024-11-15"},{id:2,name:"Asgard Tech - Cloud Migration",customer:"Thor Odinson",amount:"₹89,000",stage:"Negotiation",probability:60,owner:"Bob Smith",dueDate:"2024-11-20"},{id:3,name:"Maximoff - SaaS Contract",customer:"Wanda Maximoff",amount:"₹1,56,000",stage:"Qualification",probability:40,owner:"Carol Davis",dueDate:"2024-11-30"},{id:4,name:"Banner Research - Pilot",customer:"Bruce Banner",amount:"₹34,000",stage:"Closed Won",probability:100,owner:"David Wilson",dueDate:"2024-10-20"},{id:5,name:"Loki Solutions - Integration",customer:"Loki Laufeyson",amount:"₹67,000",stage:"Lead In",probability:20,owner:"Emma Brown",dueDate:"2024-12-10"}];let t=s;r!=="all"&&(t=t.filter(a=>a.stage===r)),i!=="all"&&(t=t.filter(a=>a.owner===i));const d=s.length,x=s.reduce((a,l)=>{const w=parseInt(l.amount.replace(/[₹,]/g,""));return a+w},0),C=Math.round(x/d),D=(s.filter(a=>a.stage==="Closed Won").length/d*100).toFixed(1),g=["#3B82F6","#8B5CF6","#EC4899","#F59E0B","#10B981","#EF4444"];return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Deal Report"}),e.jsx("p",{className:"mt-1 text-gray-600 dark:text-gray-400",children:"Monitor your sales pipeline and opportunities"})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-4",children:[e.jsx(o,{title:"Total Pipeline Value",value:`₹${(x/1e5).toFixed(1)}L`,icon:e.jsx(N,{className:"w-6 h-6"}),change:18.5,description:"All deals",bgColor:"bg-green-50",iconColor:"text-green-600"}),e.jsx(o,{title:"Active Deals",value:d.toString(),icon:e.jsx(B,{className:"w-6 h-6"}),change:12.3,description:"In pipeline",bgColor:"bg-blue-50",iconColor:"text-blue-600"}),e.jsx(o,{title:"Avg Deal Size",value:`₹${(C/1e3).toFixed(0)}K`,icon:e.jsx(L,{className:"w-6 h-6"}),change:5.2,description:"Per opportunity",bgColor:"bg-purple-50",iconColor:"text-purple-600"}),e.jsx(o,{title:"Win Rate",value:`${D}%`,icon:e.jsx(A,{className:"w-6 h-6"}),change:3.8,description:"Last 30 days",bgColor:"bg-amber-50",iconColor:"text-amber-600"})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(c,{title:"Deal Trend",subtitle:"Monthly deal value and count",children:e.jsx(m,{width:"100%",height:300,children:e.jsxs(F,{data:k,children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(b,{dataKey:"month",stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(j,{stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(T,{}),e.jsx(f,{type:"monotone",dataKey:"deals",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",r:4},name:"Total Deals"}),e.jsx(f,{type:"monotone",dataKey:"closed",stroke:"#10B981",strokeWidth:2,dot:{fill:"#10B981",r:4},name:"Closed Won"})]})})})}),e.jsx(c,{title:"Pipeline by Stage",subtitle:"Deal distribution",children:e.jsx(m,{width:"100%",height:300,children:e.jsxs(P,{children:[e.jsx(R,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:a,value:l})=>`${a}: ${l}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((a,l)=>e.jsx(W,{fill:g[l%g.length]},`cell-${l}`))}),e.jsx(u,{})]})})})]}),e.jsx(c,{title:"Stage Breakdown",subtitle:"Deals by stage",children:e.jsx(m,{width:"100%",height:300,children:e.jsxs(E,{data:n,children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),e.jsx(b,{dataKey:"name",stroke:"#9ca3af",style:{fontSize:"12px"},angle:-45,textAnchor:"end",height:80}),e.jsx(j,{stroke:"#9ca3af",style:{fontSize:"12px"}}),e.jsx(u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e5e7eb",borderRadius:"8px"}}),e.jsx(I,{dataKey:"deals",fill:"#3B82F6",radius:[8,8,0,0]})]})})}),e.jsxs("div",{className:"p-6 bg-white border border-gray-200 rounded-lg dark:bg-gray-900 dark:border-gray-800",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold text-gray-900 dark:text-white",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stage"}),e.jsxs("select",{value:r,onChange:a=>y(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg dark:border-gray-700 dark:bg-gray-800 dark:text-white focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Stages"}),e.jsx("option",{value:"Lead In",children:"Lead In"}),e.jsx("option",{value:"Qualification",children:"Qualification"}),e.jsx("option",{value:"Proposal Sent",children:"Proposal Sent"}),e.jsx("option",{value:"Negotiation",children:"Negotiation"}),e.jsx("option",{value:"Closed Won",children:"Closed Won"}),e.jsx("option",{value:"Closed Lost",children:"Closed Lost"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Owner"}),e.jsxs("select",{value:i,onChange:a=>v(a.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg dark:border-gray-700 dark:bg-gray-800 dark:text-white focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"all",children:"All Owners"}),e.jsx("option",{value:"Alice Johnson",children:"Alice Johnson"}),e.jsx("option",{value:"Bob Smith",children:"Bob Smith"}),e.jsx("option",{value:"Carol Davis",children:"Carol Davis"}),e.jsx("option",{value:"David Wilson",children:"David Wilson"}),e.jsx("option",{value:"Emma Brown",children:"Emma Brown"})]})]})]})]}),e.jsx(S,{title:"Deal Details",columns:[{key:"name",label:"Deal Name"},{key:"customer",label:"Customer"},{key:"amount",label:"Amount"},{key:"stage",label:"Stage",render:a=>e.jsx("span",{className:"px-3 py-1 text-xs font-semibold text-blue-700 bg-blue-100 rounded-full dark:bg-blue-900/20 dark:text-blue-400",children:a})},{key:"probability",label:"Probability",render:a=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-12 h-2 overflow-hidden bg-gray-200 rounded-full dark:bg-gray-700",children:e.jsx("div",{className:"h-2 bg-blue-500 rounded-full",style:{width:`${a}%`}})}),e.jsxs("span",{className:"text-xs font-semibold",children:[a,"%"]})]})},{key:"owner",label:"Owner"},{key:"dueDate",label:"Due Date"}],data:t,searchPlaceholder:"Search deals by name or customer..."})]})};export{ae as default};
