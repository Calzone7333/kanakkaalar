import{j as e}from"./ui-B7g2UBO6.js";import{r as l,L as i}from"./vendor-BMI_syx-.js";import{a as w}from"./utils-Dw7OLvbZ.js";import{F as m}from"./UserPlusIcon-DXE5mNgc.js";import{F as f}from"./ClockIcon-BzT2NoGB.js";import{F as j}from"./CurrencyRupeeIcon-BnFNQZjf.js";function N({title:t,titleId:a,...r},n){return l.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":a},r),t?l.createElement("title",{id:a},t):null,l.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 9.776c.112-.017.227-.026.344-.026h15.812c.117 0 .232.009.344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}))}const v=l.forwardRef(N),d=({status:t})=>{let a,r;switch(t){case"New":case"Pending":a="bg-[#E6F3FF] text-[#0074e0]",r="bg-[#0074e0]";break;case"In Progress":case"Assigned":a="bg-[#FFF8E6] text-[#FFA900]",r="bg-[#FFA900]";break;case"Completed":case"Won":a="bg-[#E6F8E6] text-[#00A859]",r="bg-[#00A859]";break;case"Dead":case"Lost":a="bg-[#FFF0F0] text-[#FF453A]",r="bg-[#FF453A]";break;default:a="bg-gray-100 text-gray-700",r="bg-gray-500"}return e.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded text-xs font-semibold ${a}`,children:[e.jsx("span",{className:`w-2 h-2 rounded-full mr-1 ${r}`}),t]})},p=[{id:1,name:"Alice Smith",source:"Website",service:"GST Registration",status:"New",assigned:"Employee A"},{id:2,name:"Bob Johnson",source:"Referral",service:"Trademark Filing",status:"In Progress",assigned:"Employee B"},{id:3,name:"Charlie Brown",source:"Email Campaign",service:"Company Closure",status:"Dead",assigned:"Employee A"},{id:4,name:"Diana Prince",source:"Website",service:"PF/ESI Registration",status:"New",assigned:"Employee C"}],g=[{id:101,title:"Follow up with Alice Smith",status:"Pending",dueDate:"2025-10-16",assignedTo:"Employee A"},{id:102,title:"Draft Trademark application for Bob",status:"In Progress",dueDate:"2025-10-20",assignedTo:"Employee B"},{id:103,title:"Prepare quarterly sales report",status:"Completed",dueDate:"2025-10-10",assignedTo:"Manager"}],h=[{id:1001,client:"Alice Smith",service:"GST Registration",value:499,status:"Pending"},{id:1002,client:"Acme Corp",service:"Annual Compliance",value:14999,status:"Won"},{id:1003,client:"Luna Biz",service:"Import Export Code",value:999,status:"Lost"}],F=[{name:"New Leads",value:p.filter(t=>t.status==="New").length,icon:m,color:"text-[#0074e0]",bgColor:"bg-white",border:"border-[#0074e0]"},{name:"Pending Tasks",value:g.filter(t=>t.status==="Pending").length,icon:f,color:"text-[#FF453A]",bgColor:"bg-white",border:"border-[#FF453A]"},{name:"Total Orders",value:h.length,icon:v,color:"text-[#00A859]",bgColor:"bg-white",border:"border-[#00A859]"},{name:"Revenue Won (Sample)",value:"₹15,498",icon:j,color:"text-[#00A859]",bgColor:"bg-white",border:"border-[#00A859]"}];function B(){return e.jsxs("div",{className:"font-[Poppins] antialiased p-4 sm:p-6 lg:p-8 space-y-8 bg-[#F5F7F9]",children:[e.jsxs("header",{className:"flex flex-col sm:flex-row justify-between items-center bg-white rounded-xl shadow p-6 gap-4",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"CRM Dashboard"}),e.jsxs(i,{to:"/crm/leads/add",className:"w-full sm:w-auto flex items-center justify-center px-4 py-2 bg-[#0074e0] text-white font-medium rounded-lg shadow-md hover:bg-[#005bb5] transition duration-150 text-sm",children:[e.jsx(m,{className:"w-5 h-5 mr-2"})," Add New Client/Lead"]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:F.map(t=>e.jsxs("div",{className:`p-5 rounded-xl shadow-lg ${t.bgColor} border-l-4 ${t.border} transition duration-150 hover:shadow-xl`,children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:t.name}),e.jsx(t.icon,{className:`w-6 h-6 ${t.color} opacity-70`})]}),e.jsx("p",{className:"mt-1 text-3xl font-extrabold text-gray-900",children:t.value})]},t.name))}),e.jsx(k,{orderId:1002}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{}),e.jsx(C,{}),e.jsx(S,{})]})]})}const A=[{key:"WEB",label:"Web/App"},{key:"CRM",label:"CRM"},{key:"SALES",label:"Sales"},{key:"ONBD",label:"Onboarding"},{key:"CASE",label:"Case"},{key:"EXEC",label:"Execution"},{key:"GOVT",label:"Govt"},{key:"QA",label:"QA"},{key:"DEL",label:"Delivery"}];function k({orderId:t}){const[a,r]=l.useState([]);l.useEffect(()=>{let s=!0;return w.get(`/api/process/orders/${t}`).then(c=>s&&r(Array.isArray(c.data)?c.data:[])).catch(()=>s&&r([])),()=>s=!1},[t]);const n=new Set(a.filter(s=>(s.status||"").toLowerCase()==="completed").map(s=>s.stage)),b=new Set(a.filter(s=>(s.status||"").toLowerCase()==="failed").map(s=>s.stage));return e.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border-t-4 border-[#0074e0]",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6 gap-2",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"End-to-End Process Timeline"}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Order #",t]})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"hidden lg:block absolute top-1/2 left-2 right-2 h-1 bg-gray-200 -translate-y-1/2"}),e.jsx("div",{className:"lg:hidden absolute top-2 bottom-2 left-[19px] w-1 bg-gray-200"}),e.jsx("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4 lg:gap-0",children:A.map((s,c)=>{const o=n.has(s.key),x=b.has(s.key),u=x?"bg-red-500":o?"bg-emerald-500":"bg-gray-300",y=x?"ring-2 ring-red-300":o?"ring-2 ring-emerald-300":"ring-2 ring-gray-200";return e.jsxs("div",{className:"flex lg:flex-col items-center text-left lg:text-center gap-4 lg:gap-0 w-full lg:w-auto",children:[e.jsx("div",{className:`w-10 h-10 lg:w-5 lg:h-5 rounded-full ${u} ${y} flex-shrink-0 z-10`}),e.jsxs("div",{className:"mt-0 lg:mt-2 text-sm lg:text-xs font-medium text-gray-700 whitespace-nowrap",children:[c+1,". ",s.label]})]},s.key)})})]}),!!a.length&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Recent Events"}),e.jsx("ul",{className:"space-y-2 text-sm text-gray-600",children:a.map(s=>e.jsxs("li",{className:"bg-gray-50 p-2 rounded border border-gray-100",children:[e.jsx("span",{className:"font-semibold text-gray-800",children:s.stage})," — ",e.jsx("span",{className:s.status==="Completed"?"text-green-600":"text-gray-600",children:s.status}),s.notes?` • ${s.notes}`:""]},s.id))})]})]})}const E=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border-t-4 border-[#0074e0]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Client Leads Pipeline"}),e.jsx(i,{to:"/crm/leads",className:"text-sm font-medium text-[#0074e0] hover:text-[#005bb5]",children:"View All Leads >"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-[#F9FAFB]",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Client Name"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Service Interest"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Assigned To"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Stage"}),e.jsx("th",{scope:"col",className:"px-6 py-3"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:p.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-100",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.name}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.service}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.assigned}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx(d,{status:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(i,{to:`/crm/leads/${t.id}`,className:"text-[#0074e0] hover:text-[#005bb5]",children:"Open"})})]},t.id))})]})})]}),C=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border-t-4 border-[#FFA900]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Employee Task Assignments"}),e.jsx(i,{to:"/crm/tasks",className:"text-sm font-medium text-[#FFA900] hover:text-[#cc8600]",children:"View All Tasks >"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-[#F9FAFB]",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Task Description"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Due Date"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Assigned To"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{scope:"col",className:"px-6 py-3"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:g.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-100",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.title}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.dueDate}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.assignedTo}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx(d,{status:t.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(i,{to:`/crm/tasks/${t.id}`,className:"text-[#FFA900] hover:text-[#cc8600]",children:"Edit"})})]},t.id))})]})})]}),S=()=>e.jsxs("div",{className:"bg-white rounded-xl shadow p-6 border-t-4 border-[#00A859]",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"Order/Sales Management"}),e.jsx(i,{to:"/crm/orders",className:"text-sm font-medium text-[#00A859] hover:text-[#008945]",children:"View Full Pipeline >"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-[#F9FAFB]",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Order ID"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Client"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Service"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:h.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50 transition duration-100",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:t.id}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.client}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:t.service}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-800 font-bold",children:["₹",t.value.toLocaleString("en-IN")]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:e.jsx(d,{status:t.status})})]},t.id))})]})})]});export{B as default};
