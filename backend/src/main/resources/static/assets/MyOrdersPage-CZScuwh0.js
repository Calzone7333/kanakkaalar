import{j as e}from"./ui-B7g2UBO6.js";import{r as t,b as u}from"./vendor-BMI_syx-.js";import{o as h}from"./index-BDeliUZK.js";import{F as b}from"./DocumentTextIcon-BL73UOyh.js";import{F as g}from"./CurrencyRupeeIcon-BnFNQZjf.js";import{F as f}from"./CalendarIcon-DVj5_Mwx.js";import{F as N}from"./ClockIcon-BzT2NoGB.js";import{F as p}from"./ChevronRightIcon-BV5THoqk.js";import"./utils-Dw7OLvbZ.js";function j({title:r,titleId:a,...l},i){return t.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:i,"aria-labelledby":a},l),r?t.createElement("title",{id:a},r):null,t.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const d=t.forwardRef(j);function P(){const r=u(),[a,l]=t.useState([]),[i,o]=t.useState(!0);t.useEffect(()=>{c()},[]);const c=async()=>{try{const s=await h.myOrders();l(s.data||[])}catch(s){console.error("Failed to fetch orders",s)}finally{o(!1)}},m=s=>{switch(s){case"PAYMENT_COMPLETED":return"bg-green-100 text-green-800 border-green-200";case"DRAFT":return"bg-gray-100 text-gray-800 border-gray-200";case"PENDING":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"FAILED":return"bg-red-100 text-red-800 border-red-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},x=s=>{s.status==="DRAFT"||s.status==="PENDING_PAYMENT"?r(`/dashboard/user/service-order?orderId=${s.id}`):r(`/dashboard/user/order/${s.id}`)};return i?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"p-6 max-w-7xl mx-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Orders"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Track and manage your service applications"})]}),e.jsxs("button",{onClick:()=>r("/dashboard/user/servicehub"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition flex items-center shadow-sm",children:[e.jsx(d,{className:"w-5 h-5 mr-2"}),"New Service"]})]}),a.length===0?e.jsxs("div",{className:"text-center py-16 bg-white rounded-xl border border-dashed border-gray-300",children:[e.jsx(d,{className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No orders found"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"You haven't placed any service orders yet."}),e.jsx("button",{onClick:()=>r("/dashboard/user/servicehub"),className:"text-blue-600 font-medium hover:text-blue-800",children:"Browse Services →"})]}):e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:a.map(s=>{var n;return e.jsxs("div",{onClick:()=>x(s),className:"bg-white rounded-xl border border-gray-200 shadow-sm hover:shadow-md transition-all cursor-pointer group overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition",children:e.jsx(b,{className:"w-6 h-6 text-blue-600"})}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold border ${m(s.status)}`,children:s.status.replace(/_/g," ")})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2 line-clamp-1",title:s.serviceName,children:s.serviceName||"Service Order"}),e.jsxs("div",{className:"space-y-2 mb-6",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(g,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["₹",((n=s.totalAmount)==null?void 0:n.toLocaleString())||"0"]})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),e.jsx("span",{children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(N,{className:"w-4 h-4 mr-2"}),e.jsxs("span",{children:["ID: #",String(s.id).substring(0,8),"..."]})]})]}),e.jsxs("div",{className:"flex items-center text-blue-600 font-medium text-sm group-hover:translate-x-1 transition-transform",children:["View Details ",e.jsx(p,{className:"w-4 h-4 ml-1"})]})]}),e.jsx("div",{className:"h-1 w-full bg-gray-100",children:e.jsx("div",{className:`h-full ${s.status==="PAYMENT_COMPLETED"?"bg-green-500":"bg-blue-500"}`,style:{width:s.status==="PAYMENT_COMPLETED"?"40%":"10%"}})})]},s.id)})})]})}export{P as default};
